webpackJsonp([1],[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}var a=n(1),o=n(3),i=s(o);n(8);var l=(0,a.Router)(i.default);document.getElementsByClassName("control-button")[0].addEventListener("click",function(){window.history.back()}),document.getElementsByClassName("control-button")[1].addEventListener("click",function(){window.history.forward()}),window.globalData={},document.addEventListener("DOMContentLoaded",function(){l.init("/")})},,function(t,e){"use strict";t.exports=function(){document.getElementsByClassName("container")[0].innerHTML="";var t=function(t){return t.slice(4,6)+"月"+t.slice(6,8)+"日"},e=void 0,n=function(t){var e=new XMLHttpRequest,n=void 0;e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300||304===e.status)&&(n=JSON.parse(e.responseText),t?s(n):s(n,"today"))},t?e.open("get","http://news-at.zhihu.com/api/4/news/before/"+t,!0):e.open("get","http://news-at.zhihu.com/api/4/news/latest",!0),e.send(null)},s=function(n,s){for(var o='<div class="one-day '+n.date+'"><h2>'+("today"===s?"今日热闻":t(n.date))+"</h2>",i=void 0,l=0;l<n.stories.length;l++)o+='\n            <a class="article-list" href="#story/'+n.stories[l].id+'">\n                <img class="article-img" src="assets/img/default.png">\n                <div class="article-title">'+n.stories[l].title+'</div>\n                <div class="article-like"><i class="fa fa-heart-o"></i><span class="like-count">0</span></div>\n            </a>\n        ';o+="</div>",document.getElementsByClassName("container")[0].innerHTML+=o,e=n.date;for(var r=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300||304===e.status)&&(i=JSON.parse(e.responseText),document.getElementsByClassName(n.date)[0].getElementsByClassName("article-img")[t].src=i.image,a())},e.open("get","http://news-at.zhihu.com/api/4/news/"+n.stories[t].id,!0),e.send(null)},c=0;c<n.stories.length;c++)r(c);for(var d=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300||304===e.status)&&(i=JSON.parse(e.responseText),document.getElementsByClassName(n.date)[0].getElementsByClassName("like-count")[t].innerHTML=i.popularity,a())},e.open("get","http://news-at.zhihu.com/api/4/story-extra/"+n.stories[t].id,!0),e.send(null)},u=0;u<n.stories.length;u++)d(u)},a=function(){window.globalData.indexDate=e,window.globalData.newsHTML=document.getElementsByClassName("container")[0].innerHTML};window.globalData.indexDate&&window.globalData.newsHTML?(e=window.globalData.indexDate,document.getElementsByClassName("container")[0].innerHTML=window.globalData.newsHTML):n(),window.onscroll=function(){window.innerHeight+document.body.scrollTop>=document.body.scrollHeight&&n(e)}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}var a=n(2),o=s(a),i=n(4),l=s(i);t.exports={"/":o.default,"/story/:storyId":l.default}},function(t,e){"use strict";t.exports=function(t){window.onscroll=null;var e=new XMLHttpRequest,n=void 0;e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300||304===e.status)&&(document.body.scrollTop=0,n=JSON.parse(e.responseText),document.getElementsByClassName("container")[0].innerHTML=n.body)},e.open("get","http://news-at.zhihu.com/api/4/news/"+t,!0),e.send(null)}},,,,function(t,e){}]);
//# sourceMappingURL=app.6eccdf63abc70e6d3a95.map